package GpuServer
version v1r1
author  "Alexey Badalov"

# structure
branches cmt doc src python

# dependencies
use GaudiPolicy *
use GpuHandler  * GpuManager
use GpuIpc      * GpuManager
use Boost       * LCG_Interfaces -no_auto_imports
use tbb         * LCG_Interfaces

# main application constituent
application gpuserver -import=Boost \
  *.cpp                             \
  Api/*.cpp                         \
  Handlers/*.cpp                    \
  Handlers/PixelTracker/*.cpp

# plugin support
macro_append gpuserver_use_linkopts " -lGaudiPluginService"

private

# remove the application suffix; the default is ".exe"
macro application_suffix ""

# add link options
macro_append Boost_linkopts " $(Boost_linkopts_filesystem)"
macro_append Boost_linkopts " $(Boost_linkopts_program_options)"
macro_append Boost_linkopts " $(Boost_linkopts_system)"
macro_append Boost_linkopts " $(Boost_linkopts_thread)"
macro_append Boost_linkopts " $(Boost_linkopts_thread)"
macro_append cppflags " -DBOOST_SYSTEM_NO_DEPRECATED"

# tbb-specific link options
#macro_prepend tbb_linkopts "-Wl,--as-needed " \
#  target-darwin "" \
#  target-winxp  "" \
#  ttarget-icc   ""

end_private
